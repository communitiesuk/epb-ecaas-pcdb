{
  "heatPump": [
    {
      "op": "test",
      "path": "/properties/HeatSourceWet/anyOf/0/additionalProperties/oneOf/0/$ref",
      "value": "#/$defs/HeatSourceWetHeatPump"
    },
    {
      "op": "add",
      "path": "/properties/HeatSourceWet/anyOf/0/additionalProperties/oneOf/1",
      "value": {
        "$ref": "#/$defs/HeatSourceWetHeatPumpWithProductReference"
      }
    },
    {
      "op": "add",
      "path": "/$defs/HeatSourceWetHeatPumpWithProductReference",
      "value": {
        "additionalProperties": false,
        "properties": {
          "type": {
            "const": "HeatPump",
            "title": "Type",
            "type": "string"
          },
          "BufferTank": {
            "anyOf": [
              {
                "$ref": "#/$defs/HeatPumpBufferTank"
              },
              {
                "type": "null"
              }
            ],
            "default": null
          },
          "EnergySupply": {
            "title": "Energysupply",
            "type": "string"
          },
          "EnergySupply_heat_network": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Energysupply Heat Network"
          },
          "MechanicalVentilation": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Mechanicalventilation"
          },
          "boiler": {
            "anyOf": [
              {
                "$ref": "#/$defs/HeatPumpBoiler"
              },
              {
                "type": "null"
              }
            ],
            "default": null
          },
          "eahp_mixed_max_temp": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Eahp Mixed Max Temp"
          },
          "eahp_mixed_min_temp": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Eahp Mixed Min Temp"
          },
          "min_modulation_rate_20": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Min Modulation Rate 20"
          },
          "min_modulation_rate_35": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Min Modulation Rate 35"
          },
          "min_modulation_rate_55": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Min Modulation Rate 55"
          },
          "product_reference": {
            "type": "string",
            "title": "Reference to the product in the HEM database",
            "description": "A unique reference to a product held within the HEM database (PCDB)"
          },
          "temp_distribution_heat_network": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "default": null,
            "title": "Temp Distribution Heat Network"
          }
        },
        "required": [
          "type",
          "EnergySupply",
          "product_reference"
        ],
        "title": "HeatSourceWetHeatPumpWithProductReference",
        "type": "object"
      }
    }
  ]
}
